# ‚úÖ –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê POSTGRESQL –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–ê!

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚ùå –£–¥–∞–ª–µ–Ω: `better-sqlite3` (SQLite)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: `pg` (PostgreSQL –¥—Ä–∞–π–≤–µ—Ä)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: `dotenv` (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

### 2. –ü–µ—Ä–µ–ø–∏—Å–∞–Ω—ã —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `/server/index.js` - API —Å–µ—Ä–≤–µ—Ä –¥–ª—è PostgreSQL
- ‚úÖ `/server/setup-db.js` - —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- ‚úÖ –í—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ PostgreSQL

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `/.env` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `/.env.example` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ `/.gitignore` - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `/POSTGRESQL-–£–°–¢–ê–ù–û–í–ö–ê.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `/–ë–´–°–¢–†–´–ô-–°–¢–ê–†–¢-POSTGRESQL.md` - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- ‚úÖ `/START-POSTGRESQL.bat` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

---

## üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ó–ê–ü–£–°–ö–£

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–£—Å—Ç–∞–Ω–æ–≤ÔøΩÔøΩ—Ç–µ PostgreSQL** (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
   - Windows: https://www.postgresql.org/download/windows/
   - –ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**:
   ```bash
   psql -U postgres
   CREATE DATABASE music_teacher_website;
   \q
   ```

3. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env`**:
   ```env
   DB_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_postgres
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç**:
   ```bash
   START-POSTGRESQL.bat
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (—É–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–æ–ª—å)
notepad .env

# 3. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã
npm run setup

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run dev
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
DB_HOST=localhost          # –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_PORT=5432              # –ü–æ—Ä—Ç PostgreSQL
DB_USER=postgres          # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DB_PASSWORD=postgres      # ‚Üê –ò–ó–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–ô –ü–ê–†–û–õ–¨!
DB_NAME=music_teacher_website  # –ù–∞–∑–≤–∞–Ω–∏–µ –ë–î

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
PORT=3001                 # –ü–æ—Ä—Ç API —Å–µ—Ä–≤–µ—Ä–∞

# –ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_PASSWORD=admin      # –ü–∞—ÄÔøΩÔøΩ–ª—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
```

---

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### SQL —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**–ë—ã–ª–æ (SQLite)**:
```sql
CREATE TABLE publications (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  date TEXT DEFAULT CURRENT_TIMESTAMP
);
```

**–°—Ç–∞–ª–æ (PostgreSQL)**:
```sql
CREATE TABLE publications (
  id SERIAL PRIMARY KEY,
  date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

**–ë—ã–ª–æ (SQLite)**:
```javascript
db.prepare('SELECT * FROM publications WHERE id = ?').get(id);
```

**–°—Ç–∞–ª–æ (PostgreSQL)**:
```javascript
await pool.query('SELECT * FROM publications WHERE id = $1', [id]);
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

**–ë—ã–ª–æ (SQLite - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)**:
```javascript
const publications = db.prepare('SELECT * FROM publications').all();
res.json(publications);
```

**–°—Ç–∞–ª–æ (PostgreSQL - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)**:
```javascript
const result = await pool.query('SELECT * FROM publications');
res.json(result.rows);
```

---

## üéì –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PostgreSQL

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | SQLite | PostgreSQL |
|----------------|--------|------------|
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |
| –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è | ‚ùå –ü–ª–æ—Ö–æ | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |
| –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ | –ë–∞–∑–æ–≤—ã–µ | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ |
| –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –ü–æ–ª–Ω–∞—è |
| –ò–Ω–¥–µ–∫—Å—ã | –ë–∞–∑–æ–≤—ã–µ | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ |
| –†–µ–ø–ª–∏–∫–∞—Ü–∏—è | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å |

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:
1. **publications** - –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (—Å—Ç–∞—Ç—å–∏, —Å—Ü–µ–Ω–∞—Ä–∏–∏)
2. **albums** - —Ñ–æ—Ç–æ–∞–ª—å–±–æ–º—ã
3. **photos** - —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –∞–ª—å–±–æ–º–∞—Ö
4. **achievements** - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
5. **portfolio** - –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ (–¥–∏–ø–ª–æ–º—ã)
6. **reviews** - –æ—Ç–∑—ã–≤—ã
7. **messages** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
8. **audio** - –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã
9. **videos** - –≤–∏–¥–µ–æ–∑–∞–ø–∏—Å–∏

---

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (psql):

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ
psql -U postgres -d music_teacher_website

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
SELECT * FROM publications;

# –í—ã—Ö–æ–¥
\q
```

### –ß–µ—Ä–µ–∑ pgAdmin (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):

1. –û—Ç–∫—Ä–æ–π—Ç–µ pgAdmin
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É localhost
3. –ù–∞–π–¥–∏—Ç–µ –±–∞–∑—É `music_teacher_website`
4. –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ç–∞–±–ª–∏—Ü–∞–º–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### 1. API —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
curl http://localhost:3001/api/publications
```

### 2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω:
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:5173
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –∞–ª—å–±–æ–º—ã, –æ—Ç–∑—ã–≤—ã

### 3. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:
- 3 –∫–ª–∏–∫–∞ –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø
- –ü–∞—Ä–æ–ª—å: `admin`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "password authentication failed"
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ —Ñ–∞–π–ª–µ `.env`

### –û—à–∏–±–∫–∞: "database does not exist"
**–†–µ—à–µ–Ω–∏–µ**: 
```bash
psql -U postgres
CREATE DATABASE music_teacher_website;
\q
```

### –û—à–∏–±–∫–∞: "connection refused"
**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL:
- Windows: –°–ª—É–∂–±—ã ‚Üí PostgreSQL ‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—å
- macOS: `brew services start postgresql@16`
- Linux: `sudo systemctl start postgresql`

### –û—à–∏–±–∫–∞: "role postgres does not exist"
**–†–µ—à–µ–Ω–∏–µ**: 
```bash
createuser -s postgres
```

---

## üì¶ –ö–æ–º–∞–Ω–¥—ã npm

```bash
npm install          # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run setup        # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö
npm run dev          # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build        # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run preview      # –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–±–æ—Ä–∫–∏
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–∂–Ω–æ:
- ‚ùå –ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env.example` –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
- ‚úÖ –ú–µ–Ω—è–π—Ç–µ `ADMIN_PASSWORD` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è PostgreSQL

### –§–∞–π–ª `.gitignore` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
- `.env` –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ Git
- `node_modules/` –∏—Å–∫–ª—é—á–µ–Ω
- `server/uploads/` –∏—Å–∫–ª—é—á–µ–Ω

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**: `–ë–´–°–¢–†–´–ô-–°–¢–ê–†–¢-POSTGRESQL.md`
- **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: `POSTGRESQL-–£–°–¢–ê–ù–û–í–ö–ê.md`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è PostgreSQL**: https://www.postgresql.org/docs/
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è pg (–¥—Ä–∞–π–≤–µ—Ä)**: https://node-postgres.com/

---

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫:
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –î–µ–ø–ª–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ –†–∞–±–æ—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

---

## üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!

–í–∞—à –ø—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –°–£–ë–î PostgreSQL!

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å —Å:
- ‚ö° –õ—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- üîí –ë–æ–ª—å—à–µ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é
- üìà –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å—é –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

**–î–µ–º–æ-–¥–æ—Å—Ç—É–ø**:
- üåê –°–∞–π—Ç: http://localhost:5173
- üîë –ê–¥–º–∏–Ω–∫–∞: 3 –∫–ª–∏–∫–∞ –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø, –ø–∞—Ä–æ–ª—å: `admin`

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
