@echo off
chcp 65001 >nul
title 🔍 Узнать IP-адрес для доступа к сайту

color 0A
echo.
echo ═══════════════════════════════════════════════════════════
echo  🔍 ОПРЕДЕЛЕНИЕ IP-АДРЕСА КОМПЬЮТЕРА
echo ═══════════════════════════════════════════════════════════
echo.
echo  Используйте эти адреса для доступа к сайту с других
echo  устройств (телефон, планшет, другой компьютер)
echo.
echo ═══════════════════════════════════════════════════════════
echo.

echo 📍 ВАШ IP-АДРЕС В ЛОКАЛЬНОЙ СЕТИ:
echo.

setlocal enabledelayedexpansion
set count=0

for /f "tokens=2 delims=:" %%a in ('ipconfig ^| findstr /c:"IPv4"') do (
    set /a count+=1
    set IP=%%a
    set IP=!IP: =!
    echo    [!count!] IP адрес:!IP!
    echo        Адрес для браузера: http://!IP!:5173
    echo.
)

if %count%==0 (
    echo    ❌ IP-адрес не найден!
    echo    Проверьте подключение к сети.
) else (
    echo ═══════════════════════════════════════════════════════════
    echo.
    echo 💡 КАК ИСПОЛЬЗОВАТЬ:
    echo.
    echo    1. Запустите сайт командой: npm run dev:client
    echo       (или дважды кликните ЗАПУСТИТЬ-С-ДОСТУПОМ-ИЗ-СЕТИ.bat)
    echo.
    echo    2. На другом устройстве откройте браузер
    echo.
    echo    3. Введите один из адресов выше
    echo       (например: http://192.168.1.100:5173)
    echo.
    echo ═══════════════════════════════════════════════════════════
    echo.
    echo ⚠️  ВАЖНО:
    echo.
    echo    • Все устройства должны быть в ОДНОЙ Wi-Fi сети
    echo    • Если используете несколько сетевых адаптеров,
    echo      попробуйте разные IP-адреса из списка
    echo    • Проверьте, что брандмауэр не блокирует подключение
    echo.
)

echo.
echo ═══════════════════════════════════════════════════════════
echo.

pause
